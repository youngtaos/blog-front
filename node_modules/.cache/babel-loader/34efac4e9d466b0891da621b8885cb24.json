{"ast":null,"code":"var BaseAuthenticationClient = function () {\n  function BaseAuthenticationClient(options) {\n    this.options = options;\n  }\n\n  Object.defineProperty(BaseAuthenticationClient.prototype, \"appHost\", {\n    get: function () {\n      var _a = this.options,\n          appHost = _a.appHost,\n          domain = _a.domain,\n          host = _a.host; // 最新版本，传入 appHost\n\n      if (appHost) {\n        return appHost.replace(/\\/$/, '');\n      } // 兼容协议认证 API 中传入的 domain\n      else if (domain) {\n        var hostUrl = new URL(this.options.host);\n        return hostUrl.protocol + \"//\" + this.options.domain;\n      } // 最后使用服务器统一域名 host\n      else {\n        return host;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return BaseAuthenticationClient;\n}();\n\nexport { BaseAuthenticationClient };","map":{"version":3,"sources":["../../../../src/lib/authentication/BaseAuthenticationClient.ts"],"names":[],"mappings":"AAEA,IAAA,wBAAA,GAAA,YAAA;AAqBE,WAAA,wBAAA,CAAY,OAAZ,EAAgD;AAC9C,SAAK,OAAL,GAAe,OAAf;AACD;;AApBD,EAAA,MAAA,CAAA,cAAA,CAAI,wBAAA,CAAA,SAAJ,EAAI,SAAJ,EAAW;SAAX,YAAA;AACQ,UAAA,EAAA,GAA4B,KAAK,OAAjC;AAAA,UAAE,OAAO,GAAA,EAAA,CAAA,OAAT;AAAA,UAAW,MAAM,GAAA,EAAA,CAAA,MAAjB;AAAA,UAAmB,IAAI,GAAA,EAAA,CAAA,IAAvB,CADR,CAEE;;AACA,UAAI,OAAJ,EAAa;AACX,eAAO,OAAO,CAAC,OAAR,CAAgB,KAAhB,EAAuB,EAAvB,CAAP;AACD,OAFD,CAGA;AAHA,WAIK,IAAI,MAAJ,EAAY;AACf,YAAI,OAAO,GAAG,IAAI,GAAJ,CAAQ,KAAK,OAAL,CAAa,IAArB,CAAd;AACA,eAAU,OAAO,CAAC,QAAR,GAAgB,IAAhB,GAAqB,KAAK,OAAL,CAAa,MAA5C;AACD,OAHI,CAKL;AALK,WAMA;AACH,eAAO,IAAP;AACD;AACF,KAhBU;qBAAA;;AAAA,GAAX;AAqBF,SAAA,wBAAA;AAAC,CAxBD,EAAA","sourceRoot":"","sourcesContent":["var BaseAuthenticationClient = /** @class */ (function () {\n    function BaseAuthenticationClient(options) {\n        this.options = options;\n    }\n    Object.defineProperty(BaseAuthenticationClient.prototype, \"appHost\", {\n        get: function () {\n            var _a = this.options, appHost = _a.appHost, domain = _a.domain, host = _a.host;\n            // 最新版本，传入 appHost\n            if (appHost) {\n                return appHost.replace(/\\/$/, '');\n            }\n            // 兼容协议认证 API 中传入的 domain\n            else if (domain) {\n                var hostUrl = new URL(this.options.host);\n                return hostUrl.protocol + \"//\" + this.options.domain;\n            }\n            // 最后使用服务器统一域名 host\n            else {\n                return host;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BaseAuthenticationClient;\n}());\nexport { BaseAuthenticationClient };\n//# sourceMappingURL=BaseAuthenticationClient.js.map"]},"metadata":{},"sourceType":"module"}