{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u684C\\u9762\\\\blog\\\\src\\\\front\\\\container\\\\Home\\\\component\\\\Countdown\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport styles from './style.module.scss';\nimport { useState, useEffect } from 'react';\nimport moment from 'moment/moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst nowTime = moment().format('YYYY-MM-DD HH:mm:ss');\nconsole.log(nowTime.split(' ')[1].split(':'));\nconst [NowYear, NowMouth, NowDay] = nowTime.split(' ')[0].split('-');\nconst [NowHours, NowMounties, NowSeconds] = nowTime.split(' ')[1].split(':');\nconst GraduationTime = {\n  year: 2024,\n  mouth: 7,\n  day: 1,\n  hours: parseInt(NowHours),\n  minutes: parseInt(NowMounties),\n  seconds: parseInt(NowSeconds)\n};\nlet NowTime = {\n  year: parseInt(NowYear),\n  mouth: parseInt(NowMouth),\n  day: parseInt(NowDay)\n};\nconsole.log(NowTime);\n\nconst diffDay = (lastDate, earlyDate) => {\n  return (Date.parse(lastDate) - Date.parse(earlyDate)) / 1000 / 60 / 60 / 24;\n};\n\nconst RemainingDay = diffDay(`${GraduationTime.year}/${GraduationTime.mouth}/${GraduationTime.day}`, `${NowTime.year}/${NowTime.mouth}/${NowTime.day}`) - 1;\n\nconst CountDown = ({\n  days = parseInt(RemainingDay),\n  hours = 24 - GraduationTime.hours,\n  minutes = 59 - GraduationTime.minutes,\n  seconds = 59 - GraduationTime.seconds\n}) => {\n  _s();\n\n  const [over, setOver] = useState(false); // time 默认值是一个 object\n\n  const [time, setTime] = useState({\n    days: parseInt(days),\n    hours: parseInt(hours),\n    minutes: parseInt(minutes),\n    seconds: parseInt(seconds)\n  });\n\n  const tick = () => {\n    if (over) return;\n\n    if (time.days === 0 && time.hours === 0 && time.minutes === 0 && time.seconds === 0) {\n      setOver(true);\n    } else if (time.hours === 0 && time.minutes === 0 && time.seconds === 0) {\n      setTime({\n        days: time.days - 1,\n        hours: 23,\n        minutes: 59,\n        seconds: 59\n      });\n    } else if (time.minutes === 0 && time.seconds === 0) setTime({\n      days: time.days,\n      hours: time.hours - 1,\n      minutes: 59,\n      seconds: 59\n    });else if (time.seconds === 0) setTime({\n      days: time.days,\n      hours: time.hours,\n      minutes: time.minutes - 1,\n      seconds: 59\n    });else setTime({\n      days: time.days,\n      hours: time.hours,\n      minutes: time.minutes,\n      seconds: time.seconds - 1\n    });\n  };\n\n  useEffect(() => {\n    // 执行定时\n    let timerID = setInterval(() => tick(), 1000); // 卸载组件时进行清理\n\n    return () => clearInterval(timerID);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.countdownWrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.timeTittle,\n      children: \"\\u5927\\u5B66\\u5269\\u4F59\\u65F6\\u95F4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.CountDowntime,\n      children: `${time.days.toString()}天\n                ${time.hours.toString().padStart(2, \"0\")}时\n                ${time.minutes.toString().padStart(2, \"0\")}分\n                ${time.seconds.toString().padStart(2, \"0\")}秒`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CountDown, \"mGDwTPq3d7p8w920MBz1d9cnipU=\");\n\n_c = CountDown;\nexport default CountDown;\n\nvar _c;\n\n$RefreshReg$(_c, \"CountDown\");","map":{"version":3,"sources":["D:/桌面/blog/src/front/container/Home/component/Countdown/index.jsx"],"names":["styles","useState","useEffect","moment","nowTime","format","console","log","split","NowYear","NowMouth","NowDay","NowHours","NowMounties","NowSeconds","GraduationTime","year","mouth","day","hours","parseInt","minutes","seconds","NowTime","diffDay","lastDate","earlyDate","Date","parse","RemainingDay","CountDown","days","over","setOver","time","setTime","tick","timerID","setInterval","clearInterval","countdownWrapper","timeTittle","CountDowntime","toString","padStart"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,eAAnB;;AAEA,MAAMC,OAAO,GAAGD,MAAM,GAAGE,MAAT,CAAgB,qBAAhB,CAAhB;AACAC,OAAO,CAACC,GAAR,CAAYH,OAAO,CAACI,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsBA,KAAtB,CAA4B,GAA5B,CAAZ;AACA,MAAM,CAACC,OAAD,EAAUC,QAAV,EAAoBC,MAApB,IAA8BP,OAAO,CAACI,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsBA,KAAtB,CAA4B,GAA5B,CAApC;AACA,MAAM,CAACI,QAAD,EAAWC,WAAX,EAAwBC,UAAxB,IAAsCV,OAAO,CAACI,KAAR,CAAc,GAAd,EAAmB,CAAnB,EAAsBA,KAAtB,CAA4B,GAA5B,CAA5C;AAEA,MAAMO,cAAc,GAAG;AACnBC,EAAAA,IAAI,EAAE,IADa;AAEnBC,EAAAA,KAAK,EAAE,CAFY;AAGnBC,EAAAA,GAAG,EAAE,CAHc;AAInBC,EAAAA,KAAK,EAAEC,QAAQ,CAACR,QAAD,CAJI;AAKnBS,EAAAA,OAAO,EAAED,QAAQ,CAACP,WAAD,CALE;AAMnBS,EAAAA,OAAO,EAAEF,QAAQ,CAACN,UAAD;AANE,CAAvB;AASA,IAAIS,OAAO,GAAG;AACVP,EAAAA,IAAI,EAAEI,QAAQ,CAACX,OAAD,CADJ;AAEVQ,EAAAA,KAAK,EAAEG,QAAQ,CAACV,QAAD,CAFL;AAGVQ,EAAAA,GAAG,EAAEE,QAAQ,CAACT,MAAD;AAHH,CAAd;AAKAL,OAAO,CAACC,GAAR,CAAYgB,OAAZ;;AACA,MAAMC,OAAO,GAAG,CAACC,QAAD,EAAWC,SAAX,KAAyB;AACrC,SAAO,CAACC,IAAI,CAACC,KAAL,CAAWH,QAAX,IAAuBE,IAAI,CAACC,KAAL,CAAWF,SAAX,CAAxB,IAAiD,IAAjD,GAAwD,EAAxD,GAA6D,EAA7D,GAAkE,EAAzE;AACH,CAFD;;AAIA,MAAMG,YAAY,GAAGL,OAAO,CAAE,GAAET,cAAc,CAACC,IAAK,IAAGD,cAAc,CAACE,KAAM,IAAGF,cAAc,CAACG,GAAI,EAAtE,EAA0E,GAAEK,OAAO,CAACP,IAAK,IAAGO,OAAO,CAACN,KAAM,IAAGM,OAAO,CAACL,GAAI,EAAzH,CAAP,GAAqI,CAA1J;;AAEA,MAAMY,SAAS,GAAG,CAAC;AAAEC,EAAAA,IAAI,GAAGX,QAAQ,CAACS,YAAD,CAAjB;AAAiCV,EAAAA,KAAK,GAAG,KAAKJ,cAAc,CAACI,KAA7D;AAAoEE,EAAAA,OAAO,GAAG,KAAKN,cAAc,CAACM,OAAlG;AAA2GC,EAAAA,OAAO,GAAG,KAAKP,cAAc,CAACO;AAAzI,CAAD,KAAwJ;AAAA;;AACtK,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBhC,QAAQ,CAAC,KAAD,CAAhC,CADsK,CAEtK;;AACA,QAAM,CAACiC,IAAD,EAAOC,OAAP,IAAkBlC,QAAQ,CAAC;AAC7B8B,IAAAA,IAAI,EAAEX,QAAQ,CAACW,IAAD,CADe;AAE7BZ,IAAAA,KAAK,EAAEC,QAAQ,CAACD,KAAD,CAFc;AAG7BE,IAAAA,OAAO,EAAED,QAAQ,CAACC,OAAD,CAHY;AAI7BC,IAAAA,OAAO,EAAEF,QAAQ,CAACE,OAAD;AAJY,GAAD,CAAhC;;AAOA,QAAMc,IAAI,GAAG,MAAM;AACf,QAAIJ,IAAJ,EAAU;;AACV,QAAIE,IAAI,CAACH,IAAL,KAAc,CAAd,IAAmBG,IAAI,CAACf,KAAL,KAAe,CAAlC,IAAuCe,IAAI,CAACb,OAAL,KAAiB,CAAxD,IAA6Da,IAAI,CAACZ,OAAL,KAAiB,CAAlF,EAAqF;AACjFW,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH,KAFD,MAGK,IAAIC,IAAI,CAACf,KAAL,KAAe,CAAf,IAAoBe,IAAI,CAACb,OAAL,KAAiB,CAArC,IAA0Ca,IAAI,CAACZ,OAAL,KAAiB,CAA/D,EAAkE;AACnEa,MAAAA,OAAO,CAAC;AACJJ,QAAAA,IAAI,EAAEG,IAAI,CAACH,IAAL,GAAY,CADd;AAEJZ,QAAAA,KAAK,EAAE,EAFH;AAGJE,QAAAA,OAAO,EAAE,EAHL;AAIJC,QAAAA,OAAO,EAAE;AAJL,OAAD,CAAP;AAMH,KAPI,MAQA,IAAIY,IAAI,CAACb,OAAL,KAAiB,CAAjB,IAAsBa,IAAI,CAACZ,OAAL,KAAiB,CAA3C,EACDa,OAAO,CAAC;AACJJ,MAAAA,IAAI,EAAEG,IAAI,CAACH,IADP;AAEJZ,MAAAA,KAAK,EAAEe,IAAI,CAACf,KAAL,GAAa,CAFhB;AAGJE,MAAAA,OAAO,EAAE,EAHL;AAIJC,MAAAA,OAAO,EAAE;AAJL,KAAD,CAAP,CADC,KAOA,IAAIY,IAAI,CAACZ,OAAL,KAAiB,CAArB,EACDa,OAAO,CAAC;AACJJ,MAAAA,IAAI,EAAEG,IAAI,CAACH,IADP;AAEJZ,MAAAA,KAAK,EAAEe,IAAI,CAACf,KAFR;AAGJE,MAAAA,OAAO,EAAEa,IAAI,CAACb,OAAL,GAAe,CAHpB;AAIJC,MAAAA,OAAO,EAAE;AAJL,KAAD,CAAP,CADC,KAQDa,OAAO,CAAC;AACJJ,MAAAA,IAAI,EAAEG,IAAI,CAACH,IADP;AAEJZ,MAAAA,KAAK,EAAEe,IAAI,CAACf,KAFR;AAGJE,MAAAA,OAAO,EAAEa,IAAI,CAACb,OAHV;AAIJC,MAAAA,OAAO,EAAEY,IAAI,CAACZ,OAAL,GAAe;AAJpB,KAAD,CAAP;AAMP,GAlCD;;AAqCApB,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,QAAImC,OAAO,GAAGC,WAAW,CAAC,MAAMF,IAAI,EAAX,EAAe,IAAf,CAAzB,CAFY,CAGZ;;AACA,WAAO,MAAMG,aAAa,CAACF,OAAD,CAA1B;AACH,GALQ,CAAT;AAMA,sBACI;AAAK,IAAA,SAAS,EAAErC,MAAM,CAACwC,gBAAvB;AAAA,4BACI;AAAK,MAAA,SAAS,EAAExC,MAAM,CAACyC,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAEzC,MAAM,CAAC0C,aAAvB;AAAA,gBAAwC,GAAER,IAAI,CAACH,IAAL,CAAUY,QAAV,EAAqB;AAC3E,kBAAkBT,IAAI,CAACf,KAAL,CAAWwB,QAAX,GAAsBC,QAAtB,CAA+B,CAA/B,EAAkC,GAAlC,CAAuC;AACzD,kBAAkBV,IAAI,CAACb,OAAL,CAAasB,QAAb,GAAwBC,QAAxB,CAAiC,CAAjC,EAAoC,GAApC,CAAyC;AAC3D,kBAAkBV,IAAI,CAACZ,OAAL,CAAaqB,QAAb,GAAwBC,QAAxB,CAAiC,CAAjC,EAAoC,GAApC,CAAyC;AAH/C;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AASH,CA9DD;;GAAMd,S;;KAAAA,S;AAgEN,eAAeA,SAAf","sourcesContent":["import styles from './style.module.scss';\r\nimport { useState, useEffect } from 'react';\r\nimport moment from 'moment/moment';\r\n\r\nconst nowTime = moment().format('YYYY-MM-DD HH:mm:ss');\r\nconsole.log(nowTime.split(' ')[1].split(':'))\r\nconst [NowYear, NowMouth, NowDay] = nowTime.split(' ')[0].split('-');\r\nconst [NowHours, NowMounties, NowSeconds] = nowTime.split(' ')[1].split(':');\r\n\r\nconst GraduationTime = {\r\n    year: 2024,\r\n    mouth: 7,\r\n    day: 1,\r\n    hours: parseInt(NowHours),\r\n    minutes: parseInt(NowMounties),\r\n    seconds: parseInt(NowSeconds)\r\n}\r\n\r\nlet NowTime = {\r\n    year: parseInt(NowYear),\r\n    mouth: parseInt(NowMouth),\r\n    day: parseInt(NowDay)\r\n}\r\nconsole.log(NowTime);\r\nconst diffDay = (lastDate, earlyDate) => {\r\n    return (Date.parse(lastDate) - Date.parse(earlyDate)) / 1000 / 60 / 60 / 24;\r\n}\r\n\r\nconst RemainingDay = diffDay(`${GraduationTime.year}/${GraduationTime.mouth}/${GraduationTime.day}`, `${NowTime.year}/${NowTime.mouth}/${NowTime.day}`) - 1;\r\n\r\nconst CountDown = ({ days = parseInt(RemainingDay), hours = 24 - GraduationTime.hours, minutes = 59 - GraduationTime.minutes, seconds = 59 - GraduationTime.seconds }) => {\r\n    const [over, setOver] = useState(false);\r\n    // time 默认值是一个 object\r\n    const [time, setTime] = useState({\r\n        days: parseInt(days),\r\n        hours: parseInt(hours),\r\n        minutes: parseInt(minutes),\r\n        seconds: parseInt(seconds)\r\n    });\r\n\r\n    const tick = () => {\r\n        if (over) return;\r\n        if (time.days === 0 && time.hours === 0 && time.minutes === 0 && time.seconds === 0) {\r\n            setOver(true);\r\n        }\r\n        else if (time.hours === 0 && time.minutes === 0 && time.seconds === 0) {\r\n            setTime({\r\n                days: time.days - 1,\r\n                hours: 23,\r\n                minutes: 59,\r\n                seconds: 59\r\n            });\r\n        }\r\n        else if (time.minutes === 0 && time.seconds === 0)\r\n            setTime({\r\n                days: time.days,\r\n                hours: time.hours - 1,\r\n                minutes: 59,\r\n                seconds: 59\r\n            });\r\n        else if (time.seconds === 0)\r\n            setTime({\r\n                days: time.days,\r\n                hours: time.hours,\r\n                minutes: time.minutes - 1,\r\n                seconds: 59\r\n            });\r\n        else\r\n            setTime({\r\n                days: time.days,\r\n                hours: time.hours,\r\n                minutes: time.minutes,\r\n                seconds: time.seconds - 1\r\n            });\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        // 执行定时\r\n        let timerID = setInterval(() => tick(), 1000);\r\n        // 卸载组件时进行清理\r\n        return () => clearInterval(timerID);\r\n    });\r\n    return (\r\n        <div className={styles.countdownWrapper}>\r\n            <div className={styles.timeTittle}>大学剩余时间</div>\r\n            <div className={styles.CountDowntime}>{`${time.days.toString()}天\r\n                ${time.hours.toString().padStart(2, \"0\")}时\r\n                ${time.minutes.toString().padStart(2, \"0\")}分\r\n                ${time.seconds.toString().padStart(2, \"0\")}秒`}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CountDown;"]},"metadata":{},"sourceType":"module"}